// @bitcoin-ux/payment-request-parser
import * as bip21 from "bip21";
import * as bolt11 from "bolt11";

const mock = {
	only_bitcoin_address: "1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH",
	bip21_common: "bitcoin:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?amount=0.025&label=coffee%20beans",
	bip21_with_message: "bitcoin:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?amount=0.025&label=coffee%20beans&message=some%20other%20payment%20meta%20data",
	bip21_with_invoice: "bitcoin:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?amount=0.025&label=coffee%20beans&lightning=lnbc25m1pvjluezpp5qqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqypqdq5vdhkven9v5sxyetpdeessp5zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zygs9q5sqqqqqqqqqqqqqqqpqsq67gye39hfg3zd8rgc80k32tvy9xk2xunwm5lzexnvpx6fd77en8qaq424dxgt56cag2dpt359k3ssyhetktkpqh24jqnjyw6uqd08sgptq44qu",
	only_invoice_no_fallback: "lnbc25m1pvjluezpp5qqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqypqdq5vdhkven9v5sxyetpdeessp5zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zygs9q5sqqqqqqqqqqqqqqqpqsq67gye39hfg3zd8rgc80k32tvy9xk2xunwm5lzexnvpx6fd77en8qaq424dxgt56cag2dpt359k3ssyhetktkpqh24jqnjyw6uqd08sgptq44qu",
	lighting_uri_no_fallback: "lightning:lnbc25m1pvjluezpp5qqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqypqdq5vdhkven9v5sxyetpdeessp5zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zygs9q5sqqqqqqqqqqqqqqqpqsq67gye39hfg3zd8rgc80k32tvy9xk2xunwm5lzexnvpx6fd77en8qaq424dxgt56cag2dpt359k3ssyhetktkpqh24jqnjyw6uqd08sgptq44qu",
	// P2WPKH fallback
	lighting_uri_with_fallback: "lightning:lnbc20m1pvjluezhp58yjmdan79s6qqdhdzgynm4zwqd5d7xmw5fk98klysy043l2ahrqspp5qqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqypqfppqw508d6qejxtdg4y5r3zarvary0c5xw7kepvrhrm9s57hejg0p662ur5j5cr03890fa7k2pypgttmh4897d3raaq85a293e9jpuqwl0rnfuwzam7yr8e690nd2ypcq9hlkdwdvycqa0qza8",
	// Optimised QR (v1 addresses)
	optimised_but_no_uppercase_address__only_bitcoin_address: "1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH",
	optimised_but_no_uppercase_address__bip21_common: "BITCOIN:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?AMOUNT=0.025&LABEL=coffee%20beans",
	optimised_but_no_uppercase_address__bip21_with_message: "BITCOIN:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?AMOUNT=0.025&LABEL=coffee%20beans&MESSAGE=some%20other%20payment%20meta%20data",
	optimised_but_no_uppercase_address__bip21_with_invoice: "BITCOIN:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?AMOUNT=0.025&LABEL=coffee%20beans&LIGHTNING=lnbc25m1pvjluezpp5qqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqypqdq5vdhkven9v5sxyetpdeessp5zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zygs9q5sqqqqqqqqqqqqqqqpqsq67gye39hfg3zd8rgc80k32tvy9xk2xunwm5lzexnvpx6fd77en8qaq424dxgt56cag2dpt359k3ssyhetktkpqh24jqnjyw6uqd08sgptq44qu",
	optimised_all_uppercase__only_invoice_no_fallback: "LNBC25M1PVJLUEZPP5QQQSYQCYQ5RQWZQFQQQSYQCYQ5RQWZQFQQQSYQCYQ5RQWZQFQYPQDQ5VDHKVEN9V5SXYETPDEESSP5ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYGS9Q5SQQQQQQQQQQQQQQQPQSQ67GYE39HFG3ZD8RGC80K32TVY9XK2XUNWM5LZEXNVPX6FD77EN8QAQ424DXGT56CAG2DPT359K3SSYHETKTKPQH24JQNJYW6UQD08SGPTQ44QU",
	optimised_all_uppercase__lighting_uri_no_fallback: "LIGHTNING:LNBC25M1PVJLUEZPP5QQQSYQCYQ5RQWZQFQQQSYQCYQ5RQWZQFQQQSYQCYQ5RQWZQFQYPQDQ5VDHKVEN9V5SXYETPDEESSP5ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYG3ZYGS9Q5SQQQQQQQQQQQQQQQPQSQ67GYE39HFG3ZD8RGC80K32TVY9XK2XUNWM5LZEXNVPX6FD77EN8QAQ424DXGT56CAG2DPT359K3SSYHETKTKPQH24JQNJYW6UQD08SGPTQ44QU",
	// Optimised QR (v3 addresses)
	optimised_with_uppercase__address_only_bitcoin_address: "1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH",
	optimised_with_uppercase__address_bip21_common: "BITCOIN:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?AMOUNT=0.025&LABEL=coffee%20beans",
	optimised_with_uppercase__address_bip21_with_message: "BITCOIN:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?AMOUNT=0.025&LABEL=coffee%20beans&MESSAGE=some%20other%20payment%20meta%20data",
	optimised_with_uppercase__address_bip21_with_invoice: "BITCOIN:1BgGZ9tcN4rm9KBzDn7KprQz87SZ26SAMH?AMOUNT=0.025&LABEL=coffee%20beans&LIGHTNING=lnbc25m1pvjluezpp5qqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqqqsyqcyq5rqwzqfqypqdq5vdhkven9v5sxyetpdeessp5zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zyg3zygs9q5sqqqqqqqqqqqqqqqpqsq67gye39hfg3zd8rgc80k32tvy9xk2xunwm5lzexnvpx6fd77en8qaq424dxgt56cag2dpt359k3ssyhetktkpqh24jqnjyw6uqd08sgptq44qu",
};

const payment_request = bip21.decode(mock.bip21_with_invoice);

if(payment_request.lightning) {
	console.log("bip21 with lightning", payment_request);
}

console.log(payment_request);